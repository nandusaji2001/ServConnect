@model List<ServConnect.Models.AdvertisementRequest>
@{
    ViewData["Title"] = "My Advertisements";
}

<div class="container py-4" style="max-width:960px;">
    <h3 class="mb-3">My Advertisements</h3>

    @if (Model == null || Model.Count == 0)
    {
        <div class="alert alert-info">You haven't submitted any advertisements yet.</div>
    }
    else
    {
        <div class="list-group">
            @foreach (var req in Model)
            {
                @{
                    var statusText = req.Status switch
                    {
                        ServConnect.Models.AdRequestStatus.Pending => "Pending Review",
                        ServConnect.Models.AdRequestStatus.Approved => "Approved (Published)",
                        ServConnect.Models.AdRequestStatus.Rejected => "Rejected",
                        _ => req.Status.ToString()
                    };
                    var statusClass = req.Status switch
                    {
                        ServConnect.Models.AdRequestStatus.Pending => "badge bg-warning text-dark",
                        ServConnect.Models.AdRequestStatus.Approved => "badge bg-success",
                        ServConnect.Models.AdRequestStatus.Rejected => "badge bg-danger",
                        _ => "badge bg-secondary"
                    };
                }
                <div class="list-group-item">
                    <div class="d-flex flex-column gap-2">
                        <img src="@req.ImageUrl" alt="Ad" style="height:90px;width:728px;object-fit:cover;border-radius:6px;max-width:100%;" />
                        <span class="@statusClass" style="width:fit-content;font-size:.95rem;padding:.5rem .9rem;">@statusText</span>
                    </div>
                </div>
            }
        </div>
    }
</div>